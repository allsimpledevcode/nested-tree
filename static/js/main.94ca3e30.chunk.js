(this["webpackJsonpnested-tree"]=this["webpackJsonpnested-tree"]||[]).push([[0],{31:function(n,t,e){},37:function(n,t,e){"use strict";e.r(t);var r,i,c,o,a,d,l,s,u,b,p,h=e(1),x=e.n(h),j=e(9),f=e.n(j),g=(e(31),e(6)),O=e(5),m=e(4),v=Object(m.a)(r||(r=Object(O.a)(["\n  *, *:before, *:after {\n    box-sizing: border-box;\n  }\n  body {\n    margin: 0;\n    padding: 0;\n    font-family: Open-Sans, Helvetica, Sans-Serif;\n    font-size: 14px;\n    letter-spacing: 0.5px;\n  }\n"]))),I=e(16),k=e(8),w=e(26),C=e(14),y=e(19),S=e(2),E=m.b.div(i||(i=Object(O.a)(["\n\tposition: absolute;\n\tright: 0px;\n\ttop: 1px;\n\twidth: 53px;\n\tleft: auto;\n\tdisplay: none;\n\tbackground-color: #f3f3f3;\n\tbox-shadow: -23px -1px 7px -1px #f7f0f0;\n"]))),F=m.b.div(c||(c=Object(O.a)(["\n\tposition: relative;\n\twidth: ",";\n\n\t&:hover "," {\n\t\tdisplay: block;\n\t}\n"])),(function(n){return n.label?"100%":"auto"}),E),J=m.b.label(o||(o=Object(O.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\ttext-align: left;\n"]))),L=m.b.svg(a||(a=Object(O.a)(["\n\tfill: none;\n\tstroke: white;\n\tstroke-width: 2px;\n"]))),N=m.b.input.attrs({type:"checkbox"})(d||(d=Object(O.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippath: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]))),P=m.b.div(l||(l=Object(O.a)(["\n\tdisplay: inherit;\n\twidth: 16px;\n\theight: 16px;\n\t"," border: 1px solid ",";\n\tborder-radius: 3px;\n\ttransition: all 150ms;\n\n\t",":focus + & {\n\t\tbox-shadow: 0 0 0 1px #2295f3;\n\t}\n\n\t"," {\n\t\tvisibility: ",";\n\t}\n"])),(function(n){return n.checked?"\n\t\t\t\tbackground-color: #2295f3;\n\t\t\t":n.show?"\n\t\t\t\tbackground-color: #5f6365;\n\t\t\t":"\n\t\t\t\tbackground-color: transparent;\n\t\t\t"}),(function(n){return n.checked?"#2295f3":"#5f6365"}),N,L,(function(n){return n.checked||n.show?"visible":"hidden"})),R=Object(m.b)(C.a)(s||(s=Object(O.a)(["\n    margin: 0 10px;\n\twidth: 18px;\n\tcursor: no-drop;\n"]))),_="\n\tcursor: pointer;\n    width: 16px;\n    height: 16px;\n    padding: 1px;\n    display: inline-block;\n",B=Object(m.b)(y.a)(u||(u=Object(O.a)(["\n\t","\n\tmargin: 0 10px;\n\tfill: #333;\n"])),_),z=Object(m.b)(y.b)(b||(b=Object(O.a)(["\n\t","\n\tfill: red;\n"])),_),A=m.b.input.attrs({type:"text"})(p||(p=Object(O.a)(["\n\twidth: 100%;\n\tpadding: 3px;\n\tborder-radius: 4px;\n\tborder: 1px solid ",";\n\toutline: 0\n"])),(function(n){return n.error?"#f44336":"#ddd"})),D=function(n){var t=n.isChecked,e=n.label,r=n.groupIndicator,i=n.onRemove,c=n.onEdit,o=n.dragger,a=Object(I.a)(n,["isChecked","label","groupIndicator","onRemove","onEdit","dragger"]),d=r&&!0!==t,l=Object(h.useState)(!1),s=Object(g.a)(l,2),u=s[0],b=s[1],p=Object(h.useState)(e),x=Object(g.a)(p,2),j=x[0],f=x[1],O=Object(h.useState)(!1),m=Object(g.a)(O,2),v=m[0],k=m[1],C=Object(h.useRef)(null);Object(h.useEffect)((function(){function n(n){C.current&&!C.current.contains(n.target)&&(b(!1),c(j))}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[C,j,c]);return Object(S.jsxs)(F,{label:e,children:[Object(S.jsxs)(J,{children:[Object(S.jsx)(N,Object(w.a)({checked:t},a)),Object(S.jsx)(P,{checked:t,show:d,children:Object(S.jsx)(L,{viewBox:"0 0 24 24",children:d?Object(S.jsx)("polyline",{points:"5 12 20 12"}):Object(S.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),e&&Object(S.jsxs)(h.Fragment,{children:[o||Object(S.jsx)(R,{}),u?Object(S.jsx)(A,{ref:C,"data-testid":"inline-edit-textbox",error:v,value:j,onChange:function(n){f(n.target.value)},onKeyDown:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];("Enter"===n.key||t)&&(k(!1),j.trim().length<=0?k(!0):(b(!1),c(j)))}}):Object(S.jsx)("span",{children:e})]})]}),e&&!u&&Object(S.jsxs)(E,{children:[Object(S.jsx)(B,{onClick:function(){return b(!u)},"data-testid":"edit-action"}),Object(S.jsx)(z,{onClick:i,"data-testid":"remove-action"})]})]})};D.defaultProps={isChecked:!1,onChange:function(){},groupIndicator:!1};var T,G,H,K,M,q,Q,U=D,V=e(15),W=m.b.div(T||(T=Object(O.a)(["\n\tmargin-bottom: 16px;\n\n\t&:last-child {\n\t\tmargin-bottom: 0;\n\t}\n"]))),X=m.b.div(G||(G=Object(O.a)(["\n\tmargin-bottom: 6px;\n\tdisplay: flex;\n\talign-items: center;\n"]))),Y=Object(m.b)(V.a)((function(n){var t=n.collapse;return"\n    margin-right: 12px;\n    width: 18px;\n    height: 18px;\n    cursor: pointer;\n    position: relative;\n    transform: rotate(".concat("true"===t?"-90":"0","deg);\n    top: -1px;\n")})),Z=m.b.ul((function(n){var t=n.collapse;return"\n    list-style: none;\n    margin: 0;\n    padding: 0 0 0 45px;\n    display: ".concat("true"===t?"none":"block","\n")})),$=m.b.li(H||(H=Object(O.a)(["\n\tmargin: 10px 0;\n\n\t&:last-child {\n\t\tmargin-bottom: 0;\n\t}\n"]))),nn=Object(h.memo)((function(n){var t=n.node,e=n.onSelectItem,r=n.handleActions,i=n.removeItem,c=n.children,o=n.index,a=Object(h.useState)(!1),d=Object(g.a)(a,2),l=d[0],s=d[1],u=t.children&&t.children.filter((function(n){return!0===n.isChecked})).length,b=t.children&&t.children.every((function(n){return!0===n.isChecked}));return Object(S.jsxs)(W,{children:[Object(S.jsxs)(X,{children:[Object(S.jsx)(Y,{onClick:function(){return s(!l)},collapse:l.toString()}),Object(S.jsx)(U,{dragger:c,label:t.label,value:t.id,isChecked:b&&t.children.length>0,onChange:function(n){return e({parentIndex:o},n.target.checked)},groupIndicator:u>0&&u!==t.children.length,onEdit:function(n){return r({parentIndex:o},n)},onRemove:function(){return i({parentIndex:o})}})]}),t.children&&t.children.length>0&&Object(S.jsx)(Z,{collapse:l.toString(),children:t.children.map((function(n,t){return Object(S.jsx)($,{children:Object(S.jsx)(U,{value:n.id,label:n.label,isChecked:n.isChecked,onChange:function(n){return e({parentIndex:o,childIndex:t},n.target.checked)},onEdit:function(n){return r({parentIndex:o,childIndex:t},n)},onRemove:function(){return i({parentIndex:o,childIndex:t})}})},t.toString())}))})]})})),tn=e(11),en=Object(m.b)(C.a)(K||(K=Object(O.a)(["\n    margin: 0 10px;\n\twidth: 18px;\n\tcursor: move\n"]))),rn=m.b.div(M||(M=Object(O.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tbackground-color: #f3f3f3;\n\tpadding: 12px 24px;\n\tborder: 1px solid #ddd;\n\tborder-right: none;\n"]))),cn=m.b.div(q||(q=Object(O.a)(["\n\tbackground-color: #f3f3f3;\n\tpadding: 16px 24px;\n\tmax-height: 320px;\n\toverflow: auto;\n\tborder: 1px solid #ddd;\n\tborder-top: none;\n\tborder-right: none;\n"]))),on=Object(m.b)(V.a)((function(n){var t=n.collapse;return"\n    margin-right: 12px;\n    width: 24px;\n    height: 24px;\n    cursor: pointer;\n    position: relative;\n\ttransform: rotate(".concat("true"===t?"0":"-90","deg);\n\ttop: -1px;\n")})),an=m.b.input(Q||(Q=Object(O.a)(["\n\tmargin-left: 10px;\n\twidth: 100%;\n\tborder: 1px solid #cac1c1;\n\tpadding: 6px;\n\tborder-radius: 4px;\n\toutline: 0;\n"])));function dn(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.trim().length<=0?n:n.reduce((function(n,e){var r=e.children,i=void 0===r?[]:r,c=Object(I.a)(e,["children"]);return-1!==c.label.toLowerCase().indexOf(t.toLowerCase())?(n.push(c),n):((i=dn(i,t)).length&&n.push(Object.assign(c,{children:i})),n)}),[])}var ln,sn,un,bn,pn=Object(h.memo)((function(n){var t=n.treeJson,e=Object(h.useState)(""),r=Object(g.a)(e,2),i=r[0],c=r[1],o=Object(h.useState)([]),a=Object(g.a)(o,2),d=a[0],l=a[1],s=Object(h.useState)(!0),u=Object(g.a)(s,2),b=u[0],p=u[1],x=t.filter((function(n){return!0===n.isChecked})).length,j=d.every((function(n){return!0===n.isChecked}));Object(h.useEffect)((function(){var n=function(){var n,t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r={},i=[],c=Object(k.a)(e);for(c.forEach((function(n,t){r[n.id]=t,n.children=[]})),t=0;t<c.length;t+=1)"0"!==(n=c[t]).parentId?c[r[n.parentId]].children.push(n):i.push(n);return i}(t);l(n)}),[t]);var f=function(n,t){var e=Object(k.a)(d),r=e[n.parentIndex];n.hasOwnProperty("childIndex")?r.children[n.childIndex].label=t:r.label=t,l(e)},O=function(n,t){var e=Object(k.a)(d),r=e[n.parentIndex];if(n.hasOwnProperty("childIndex")){r.children[n.childIndex].isChecked=t;var i=r.children.every((function(n){return!0===n.isChecked}));r.isChecked=!!i}else r.isChecked=t,r.children.map((function(n){return n.isChecked=t}));l(e)},m=function(n){n.forEach((function(n){var e=t.findIndex((function(t){return t.id===n}));t.splice(e,1)}))},v=function(n){var t=Object(k.a)(d),e=t[n.parentIndex];n.hasOwnProperty("childIndex")?(m([e.children[n.childIndex].id]),e.children.splice(n.childIndex,1)):(m([t[n.parentIndex].id].concat(Object(k.a)(t[n.parentIndex].children.map((function(n){return n.id}))))),t.splice(n.parentIndex,1)),l(t)},I=Object(tn.b)((function(n){var t=n.t,e=n.parentIndex;return Object(S.jsx)(nn,{index:e,node:t,onSelectItem:O,handleActions:f,removeItem:v,children:Object(S.jsx)(C,{className:"dragger"})})})),w=Object(tn.a)((function(n){var t=n.children;return Object(S.jsx)(cn,{"data-testid":"column-group-list",children:t})})),C=Object(tn.d)((function(){return Object(S.jsx)(en,{})}));return Object(S.jsxs)("div",{"data-testid":"column-customize",children:[Object(S.jsxs)(rn,{children:[Object(S.jsx)(on,{onClick:function(){return p(!b)},collapse:b.toString(),"data-testid":"group-arrow-icon"}),Object(S.jsx)(U,{isChecked:j&&d.length>0,groupIndicator:x>0&&x!==t.length,onChange:function(n){var t=Object(k.a)(d);t.forEach((function(e,r){t[r].isChecked=n.target.checked,e.children&&e.children.length>0&&t[r].children.map((function(t){return t.isChecked=n.target.checked}))})),l(t)}}),Object(S.jsx)(an,{value:i,placeholder:"Search",onChange:function(n,t){c(n.target.value)}})]}),b&&Object(S.jsx)(w,{onSortEnd:function(n){var t=n.oldIndex,e=n.newIndex;l(Object(tn.c)(d,t,e))},distance:1,useDragHandle:!0,children:dn(d,i).map((function(n,t){return Object(S.jsx)(I,{parentIndex:t,index:t,t:n},"item-".concat(n.id))}))})]})})),hn=e(25),xn=m.b.aside(ln||(ln=Object(O.a)(["\n\tposition: fixed;\n\tright: 0;\n\ttop: 0;\n\tbottom: 0;\n\tleft: auto;\n\twidth: 60px;\n\tborder-left: 1px solid #ddd;\n"]))),jn=m.b.ul(sn||(sn=Object(O.a)(["\n\t/* This is for testing purpose only*/\n\tmargin-top: 120px;\n\n\tlist-style: none;\n\ttext-align: center;\n\tpadding: 0;\n"]))),fn=m.b.li(un||(un=Object(O.a)(["position: relative;"]))),gn=m.b.a((function(n){var t=n.active;return"\n  display: block;\n  cursor: pointer;\n  padding: 18px 0;\n  background-color: ".concat(t?"#F5F5F5":"transparent",";\n  border-top: 1px solid ").concat(t?"#ddd":"transparent",";\n  border-bottom: 1px solid ").concat(t?"#ddd":"transparent",";\n  &:hover {\n    background-color: #F5F5F5;\n  }\n")})),On=m.b.div((function(n){n.show;return"\n  position: absolute;\n  top: 0;\n  right: 60px;\n  left: auto;\n  width: 280px;\n  border-radius: 4px 0 0 4px;\n"})),mn=m.b.button(bn||(bn=Object(O.a)(["\n\tmargin: 10px;\n\tpadding: 10px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tletter-spacing: 0.4px;\n\tcursor: pointer;\n"]))),vn=[{id:"1",parentId:"0",label:"Participant"},{id:"2",parentId:"1",label:"Name"},{id:"3",parentId:"1",label:"Language"},{id:"4",parentId:"1",label:"Country"},{id:"5",parentId:"0",label:"Game of choice"},{id:"6",parentId:"5",label:"Game name"},{id:"7",parentId:"5",label:"Bought"},{id:"8",parentId:"0",label:"Performance"},{id:"9",parentId:"8",label:"Bank balance"},{id:"10",parentId:"8",label:"Extra info"}];function In(){localStorage.setItem("ops_columns",JSON.stringify(vn)),window.location.reload()}var kn=function(){null===localStorage.getItem("ops_columns")&&localStorage.setItem("ops_columns",JSON.stringify(vn));var n=Object(h.useState)(!1),t=Object(g.a)(n,2),e=t[0],r=t[1],i=Object(h.useState)(JSON.parse(localStorage.getItem("ops_columns"))),c=Object(g.a)(i,1)[0],o=Object(h.useRef)(null);return Object(h.useEffect)((function(){function n(n){o.current&&!o.current.contains(n.target)&&!0===e&&(localStorage.setItem("ops_columns",JSON.stringify(c,null,2)),r(!1))}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[o,r,e,c]),Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(v,{}),Object(S.jsx)(mn,{onClick:In,children:"Reset storage"}),Object(S.jsx)(xn,{children:Object(S.jsx)(jn,{children:Object(S.jsxs)(fn,{ref:o,children:[Object(S.jsx)(gn,{onClick:function(){return localStorage.setItem("ops_columns",JSON.stringify(c,null,2)),void r(!e)},active:e,children:Object(S.jsx)(hn.a,{})}),e&&Object(S.jsx)(On,{children:Object(S.jsx)(pn,{treeJson:c})})]})})})]})},wn=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,38)).then((function(t){var e=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;e(n),r(n),i(n),c(n),o(n)}))};f.a.render(Object(S.jsx)(x.a.StrictMode,{children:Object(S.jsx)(kn,{})}),document.getElementById("root")),wn()}},[[37,1,2]]]);
//# sourceMappingURL=main.94ca3e30.chunk.js.map